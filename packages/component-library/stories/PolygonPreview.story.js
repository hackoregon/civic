import React from "react";
import { storiesOf } from "@storybook/react";
import { checkA11y } from "@storybook/addon-a11y";
import { withKnobs, number, color } from "@storybook/addon-knobs";
import { PolygonPreview } from "../src";
import { storybookStyles } from "./storyStyles";
import notes from "./polygonPreview.notes.md";

const samplePoint = {
  type: "Feature",
  geometry: {
    type: "MultiPolygon",
    coordinates: [
      [
        [
          [673.23, 364.78],
          [673.5, 369.2],
          [676.18, 375],
          [683.79, 385.35],
          [684.88, 387.92],
          [685.31, 390.6],
          [688.24, 393.35],
          [695, 397.01],
          [696.61, 398.91],
          [696.69, 400.53],
          [695.16, 402.39],
          [688.33, 408.74],
          [684.76, 413.79],
          [681.29, 421.81],
          [682.3, 428.06],
          [682.46, 433.28],
          [681.74, 437.48],
          [680.47, 441.37],
          [678.64, 444.97],
          [676.63, 447.18],
          [674.45, 447.99],
          [673.95, 452.63],
          [675.14, 461.09],
          [677.95, 466.11],
          [682.39, 467.68],
          [685.21, 470.32],
          [686.42, 474.02],
          [686.28, 477.76],
          [684.79, 481.53],
          [682, 483.72],
          [675.86, 484.65],
          [675.72, 485.14],
          [670.68, 486.02],
          [645.35, 489.74],
          [632.68, 491.55],
          [607.3, 495.05],
          [594.6, 496.74],
          [569.17, 500],
          [568.54, 493.89],
          [566.4, 491.91],
          [563.79, 493.27],
          [562.31, 485.79],
          [562.85, 482.22],
          [562.41, 478.76],
          [559.65, 470.33],
          [552.73, 460.21],
          [538.17, 447.8],
          [530.85, 443.72],
          [525.06, 438.45],
          [521.44, 437.03],
          [516.93, 436.72],
          [515.68, 439.2],
          [510.53, 437.65],
          [511.16, 431.59],
          [506.01, 423.29],
          [501.94, 422.44],
          [491.74, 423.2],
          [478.02, 418.79],
          [473.96, 416.1],
          [472.5, 411.19],
          [466.08, 406.98],
          [457.65, 402.87],
          [452.99, 403.88],
          [446.88, 403.28],
          [438.16, 400.3],
          [433.08, 399.95],
          [423.21, 400.86],
          [419.52, 400.23],
          [416.1, 396.41],
          [412.41, 394.5],
          [413.2, 389.8],
          [412.73, 385.56],
          [413.28, 382.25],
          [411.64, 375],
          [412.93, 368.29],
          [411.83, 365.86],
          [409.76, 364],
          [403.29, 361.23],
          [402.11, 357.78],
          [403.19, 353.01],
          [401.51, 349.85],
          [396.23, 346.89],
          [391.33, 340.19],
          [385.1, 336.49],
          [382.59, 330.36],
          [378.78, 326.54],
          [377.47, 323.18],
          [369.11, 311.12],
          [360.17, 301.66],
          [358.86, 296.27],
          [358.61, 288.91],
          [362.21, 284.48],
          [364.18, 280.56],
          [364.04, 276.93],
          [363.53, 274.27],
          [360.51, 269.61],
          [348.6, 266.67],
          [339.12, 255.07],
          [338.73, 246.32],
          [335.12, 237.31],
          [335.19, 231.5],
          [334.75, 225.2],
          [337.64, 223.89],
          [340.19, 224.44],
          [339.88, 226.94],
          [340.65, 231.45],
          [343.6, 234.88],
          [346.45, 236.41],
          [349.01, 239.74],
          [350.96, 240.77],
          [352.98, 241.04],
          [350.8, 237.55],
          [349.46, 233.17],
          [346.88, 227.55],
          [343.86, 224.42],
          [342.41, 218.79],
          [341.11, 217.47],
          [340.32, 215.37],
          [343.33, 212.97],
          [347.4, 211.29],
          [352.81, 210.91],
          [368.16, 211.96],
          [371.45, 210.57],
          [369.63, 209.83],
          [366.87, 209.5],
          [361.39, 209.71],
          [359.18, 209.05],
          [356.76, 207.26],
          [355.17, 207.05],
          [350.05, 210.02],
          [347.79, 209.61],
          [342.51, 206.17],
          [340.19, 205.65],
          [336.39, 207.47],
          [335.76, 215.65],
          [336.8, 221.75],
          [334.52, 222.33],
          [331.96, 219.76],
          [327.97, 218.18],
          [324.72, 215.82],
          [320.14, 211.46],
          [317.73, 209.85],
          [314.87, 213.3],
          [314.8, 211.68],
          [316.29, 207.62],
          [316.08, 200.74],
          [320.11, 206.33],
          [318.91, 202.43],
          [315.78, 198.11],
          [313.35, 196.57],
          [310.46, 188.88],
          [303.64, 184.11],
          [298.3, 176.58],
          [287.35, 163.99],
          [286.96, 153.23],
          [283.32, 139.52],
          [285.33, 131.85],
          [285.29, 126.37],
          [283.57, 118.03],
          [281.65, 113.46],
          [273.05, 100.8],
          [264.7, 92.15],
          [263.65, 85.82],
          [263.31, 79.45],
          [265.43, 73.89],
          [267.3, 68.03],
          [269.82, 68.87],
          [270.39, 66.27],
          [269.89, 64.72],
          [273.86, 54.59],
          [273.96, 44.75],
          [277.26, 32.81],
          [277.28, 28.83],
          [275.8, 20.19],
          [274.2, 14.99],
          [271.14, 11.22],
          [272.77, 5.96],
          [272.85, 0.88],
          [272.23, 0],
          [282.94, 0.42],
          [303.65, 1.13],
          [324.36, 1.72],
          [345.07, 2.19],
          [365.79, 2.55],
          [386.51, 2.79],
          [407.23, 2.91],
          [427.95, 2.92],
          [438.31, 2.88],
          [438.48, 32.61],
          [438.59, 52.42],
          [438.7, 72.23],
          [438.81, 92.03],
          [438.92, 111.82],
          [439.03, 131.61],
          [439.19, 161.28],
          [458.57, 178.37],
          [478.12, 195.37],
          [497.84, 212.26],
          [517.73, 229.05],
          [525.58, 236.11],
          [541.35, 250.19],
          [557.24, 264.2],
          [565.22, 271.19],
          [581.28, 285.1],
          [592.48, 295.09],
          [603.73, 305.04],
          [615.05, 314.97],
          [626.41, 324.86],
          [637.83, 334.72],
          [649.31, 344.55],
          [660.84, 354.35],
          [673.23, 364.78]
        ]
      ],
      [
        [
          [445.73, 420.84],
          [454.66, 423.48],
          [459.45, 422.14],
          [460.33, 423.44],
          [459.78, 424.59],
          [448.96, 426.73],
          [445.62, 425.32],
          [445.3, 423.36],
          [444.17, 421.48],
          [445.73, 420.84]
        ]
      ],
      [
        [
          [438.71, 429.38],
          [435.63, 430.13],
          [433.3, 429.44],
          [429.56, 424.4],
          [437.45, 423.7],
          [441.31, 426.49],
          [438.71, 429.38]
        ]
      ],
      [
        [
          [513.71, 456.52],
          [516.03, 460.36],
          [512.81, 459.95],
          [509.45, 460.25],
          [507.32, 455.23],
          [506.63, 454.49],
          [504.33, 454.28],
          [504.48, 451.89],
          [511.74, 455.01],
          [513.71, 456.52]
        ]
      ],
      [
        [
          [514.28, 486.04],
          [511.71, 486.58],
          [508.81, 485.56],
          [506.22, 480.5],
          [503.42, 476.56],
          [504.87, 475.39],
          [507.15, 479.19],
          [512.8, 484.92],
          [514.28, 486.04]
        ]
      ],
      [
        [
          [465.69, 466.26],
          [461.01, 465.92],
          [459.59, 463.09],
          [463.85, 463.24],
          [465.69, 466.26]
        ]
      ],
      [
        [
          [427.17, 423.82],
          [424.84, 423.96],
          [421.26, 423.4],
          [424.49, 421.26],
          [427.17, 423.82]
        ]
      ]
    ]
  },
  properties: { name: "California" }
};

export default () =>
  storiesOf("Component Lib|Basic Inputs/PolygonPreview", module)
    .addDecorator(withKnobs)
    .addDecorator(checkA11y)
    .addDecorator(story => (
      <div style={storybookStyles.storyGrid}>
        <div style={storybookStyles.storyGridItem}>{story()}</div>
      </div>
    ))
    .add(
      "Point",
      () => {
        return (
          <PolygonPreview
            feature={samplePoint}
            stroke={color("stroke", "#000000")}
            fill={color("fill", "#000000")}
            fillOpacity={number("fill opacity", 0.5, {
              range: true,
              min: 0,
              max: 1,
              step: 0.05
            })}
            strokeWidth={number("stroke width", 1, {
              range: true,
              min: 1,
              max: 10,
              steps: 0.5
            })}
          />
        );
      },
      { notes }
    );
